---
import Layout from "../layouts/Layout.astro";
import Linkedin from "../icons/Linkedin.astro";
import Email from "../icons/Email.astro";
import Cv from "../icons/Cv.astro";
import SocialPill from "../components/SocialPill.astro";
import Experience from "../components/Experience.astro";
import SectionContainer from "../components/SectionContainer.astro";
import Github from "../icons/Github.astro";
import Medal from "../icons/Medal.astro";
import Projects from "../components/Projects.astro";
import Briefcase from "../icons/Briefcase.astro";
import About from "../components/About.astro";
import User from "../icons/User.astro";
import Venezuela from "../icons/Venezuela.astro";
---

<Layout title="Welcome to Astro.">
  <main class="w-full mx-auto px-4 xl:w-[1240px]">
    <SectionContainer>
      <div class="flex flex-col justify-center items-center align-middle">
        <img
          class="rounded-full w-36 h-36 mt-1 mb-8 object-cover"
          src="/mendezfoto.jfif"
          alt="mendez foto"
        />
        <h1 class="text-white font-bold text-3xl md:text-4xl lg:text-5xl w-max">
          Edwin Mendez
        </h1>
        <h2
          class="md:mx-auto text-center text-xs mx-6 md:text-xl pt-4 text-wrap"
        >
          <span class="text-fuchsia-400">+2 años de experiencia.</span><span
            class="text-yellow-300"
          >
            Desarrollador de aplicaciones web y técnico de soporte informático.
          </span>

          <span class="opacity-80">
            Especializado en desarrollo frontend utilizando tecnologías y
            herramientas web modernas.</span
          >
          <!--       <Badge>Correo</Badge>
          <Badge>CV</Badge> -->
        </h2>
        <div class="pt-6 w-full">
          <nav
            class="flex flex-row flex-wrap justify-center lg:flex-nowrap gap-1.5 lg:gap-3"
          >
            <SocialPill
              href="https://www.linkedin.com/in/edwin-mendez-325165164/"
            >
              <p class="pr-2 md:text-base text-xs">LinkedIn</p>
              <Linkedin class="size-4 md:size-6 pt-0.5 pb-0.5" />
            </SocialPill>
            <SocialPill href="https://github.com/edwingc88/">
              <p class="pr-2">Github</p>
              <Github class="size-4 md:size-6 pt-0.5 pb-0.5" />
            </SocialPill>
            <SocialPill href="mailto:edwingc88@gmail.com">
              <p class="pr-2">Contáctame</p><Email class="size-4 md:size-6" />
            </SocialPill>
            <SocialPill href="cv-mendez.pdf">
              <p class="pr-2">Descargar</p><Cv class="size-4 md:size-6" />
            </SocialPill>
          </nav>
        </div>
      </div>
    </SectionContainer>

    <SectionContainer id="experience" class="py-14">
      <h2 class="flex gap-x-2 text-2xl items-center font-bold mb-6">
        <Medal class="size-8" />Experiencia Laboral
      </h2>
      <Experience />
    </SectionContainer>

    <SectionContainer id="projects" class="py-8">
      <h2 class="flex gap-x-2 text-2xl items-center font-bold mb-6">
        <Briefcase class="size-8" />Proyectos
      </h2>
      <Projects />
    </SectionContainer>

    <SectionContainer id="about" class="py-8">
      <h2 class="flex gap-x-2 text-2xl items-center font-bold mb-6">
        <User class="size-8" />Sobre Mi
      </h2>
      <About />
    </SectionContainer>
  </main>
</Layout>

<script>
  // Codigo de boton y escala de imagen

  //
  let $boton1 = document.querySelector("#btn-1");
  let $boton2 = document.querySelector("#btn-2");
  let $imagen1 = document.querySelector("#img-1");
  let $imagen2 = document.querySelector("#img-2");

  $boton1?.addEventListener("mouseover", (e) => {
    e.preventDefault();
    console.log("click1");
    $imagen1?.classList.add("saturate-200");
  });

  $boton1?.addEventListener("mouseout", (e) => {
    e.preventDefault();
    console.log("click1");
    $imagen1?.classList.remove("saturate-200");
  });

  $boton2?.addEventListener("mouseover", (e) => {
    e.preventDefault();
    console.log("click2");
    $imagen2?.classList.add("saturate-200");
  });

  $boton2?.addEventListener("mouseout", (e) => {
    e.preventDefault();
    console.log("click1");
    $imagen2?.classList.remove("saturate-200");
  });

  //

  var themeToggleDarkIcon = document.getElementById("theme-toggle-dark-icon");
  var themeToggleLightIcon = document.getElementById("theme-toggle-light-icon");

  // Change the icons inside the button based on previous settings
  if (
    localStorage.getItem("color-theme") === "dark" ||
    (!("color-theme" in localStorage) &&
      window.matchMedia("(prefers-color-scheme: dark)").matches)
  ) {
    themeToggleLightIcon?.classList.remove("hidden");
  } else {
    themeToggleDarkIcon?.classList.remove("hidden");
  }

  var themeToggleBtn = document.getElementById("theme-toggle");

  themeToggleBtn?.addEventListener("click", function () {
    // toggle icons inside button
    themeToggleDarkIcon?.classList.toggle("hidden");
    themeToggleLightIcon?.classList.toggle("hidden");

    // if set via local storage previously
    if (localStorage.getItem("color-theme")) {
      if (localStorage.getItem("color-theme") === "light") {
        document.documentElement.classList.add("dark");
        localStorage.setItem("color-theme", "dark");
      } else {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("color-theme", "light");
      }

      // if NOT set via local storage previously
    } else {
      if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("color-theme", "light");
      } else {
        document.documentElement.classList.add("dark");
        localStorage.setItem("color-theme", "dark");
      }
    }
  });
</script>
